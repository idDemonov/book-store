{"version":3,"sources":["redux/reducers/basket-books-reducer.js","redux/reducers/boot-status-reducer.js","redux/reducers/card-books-reducer.js","redux/reducers/status-modal-reducer.js","redux/reducers/root-reducer.js","redux/actions/constants.js","redux/store.js","components/header/shopping-basket.js","components/header/header-style.js","components/header/header.js","components/card-item/card-item-style.js","services/firebase.js","redux/actions/action-creators.js","components/btn-toggle-basket/btn-toggle-basket-container.js","components/btn-toggle-basket/btn-toggle-basket-present.js","components/card-item/card-item.js","components/card-list/card-list-present.js","components/card-list/card-list-container.js","components/modal-card/modal-card-style.js","components/modal-card/modal-table.js","components/modal-card/modal-card.js","components/pages/home-page.js","components/table-basket/table-internal.js","components/table-basket/table-button.js","components/table-basket/table-row.js","components/table-basket/table-basket.js","components/pay-card/pay-card-style.js","components/pay-card/pay-card.js","components/pages/basket-page.js","redux/selectors/calc-total-sum.js","components/app/app.js","index.js"],"names":["addCountBook","basket","id","map","book","count","removeCountBook","toggleBookInBasket","includes","filter","initialState","error","loading","status","reducer","combineReducers","cardBooks","state","action","type","books","basketBooks","bootStatus","modal","store","createStore","applyMiddleware","thunk","StyledBadge","withStyles","badge","right","top","border","padding","backgroundColor","color","Badge","ShoppingBasketContainer","connect","props","length","IconButton","badgeContent","useStyles","makeStyles","header","link","alignSelf","textDecoration","Header","classes","className","Grid","container","justify","to","root","maxWidth","margin","title","display","justifyContent","media","height","price","fontWeight","actionArea","WebkitLineClamp","WebkitBoxOrient","overflow","width","alignItems","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","putBookInBasket","deleteBookBasket","addBookBasket","removeBookBasket","openModal","closeModal","toggleIsFetching","putBooksInState","BtnToggleBasketContainer","dispatch","actions","bindActionCreators","enqueueSnackbar","useSnackbar","btnStatus","some","b","Button","variant","onClick","TagManager","initialize","gtmId","dataLayer","event","eventCategory","eventAction","labelBook","name","endIcon","CardItem","Card","CircularProgress","size","CardActionArea","CardMedia","image","urlImage","CardContent","Typography","description","CardActions","CardListContainer","component","key","modalCard","footer","bookImg","paddingRight","text","textAlign","SimpleTable","List","ListItem","divider","button","ListItemText","primary","author","star","ModalCard","Modal","onClose","open","src","alt","gutterBottom","HomePage","TableInternal","data","TableCell","style","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","Table","TableHead","align","TableBody","TableButton","addBook","removeBook","deleteBook","useRowStyles","borderBottom","TableRow","useState","setOpen","scope","TableBasket","Paper","marginTop","paper","PayCard","sum","elevation","startIcon","BasketPage","totalSum","reduce","acc","App","CssBaseline","path","exact","render","basename","process","document","getElementById","localStorage","getItem","JSON","parse","collection","get","then","snapshot","docs","doc","catch","err","console","log","setItem","stringify"],"mappings":"iOAsBMA,EAAe,SAACC,EAAQC,GAC5B,OAAOD,EAAOE,KAAI,SAACC,GACjB,OAAIA,EAAKF,KAAOA,EACP,eAAKE,EAAZ,CAAkBC,MAAOD,EAAKC,MAAQ,IAEjCD,MAILE,EAAkB,SAACL,EAAQC,GAC/B,OAAOD,EAAOE,KAAI,SAACC,GACjB,OAAIA,EAAKF,KAAOA,GAAME,EAAKC,MAAQ,EAC1B,eAAKD,EAAZ,CAAkBC,MAAOD,EAAKC,MAAQ,IAEjCD,MAILG,EAAqB,SAACN,EAAQG,GAClC,OAAOH,EAAOO,SAASJ,GACnBH,EAAOQ,QAAO,qBAAGP,KAAgBE,EAAKF,MADnC,sBAECD,GAFD,CAESG,KCzCZM,EAAe,CACnBC,OAAO,EACPC,SAAS,GCHLF,EAAe,GCAfA,EAAe,CACnBG,QAAQ,EACRT,KAAM,MCGKU,EAAUC,YAAgB,CACrCC,UFJ8B,WAAmC,IAAlCC,EAAiC,uDAAzBP,EAAcQ,EAAW,uCAChE,OAAQA,EAAOC,MACb,IGM8B,qBHL5B,IAAMC,EAAQF,EAAOE,MAAMjB,KAAI,SAACC,GAAD,sBAAgBA,EAAhB,CAAsBC,MAAO,OAC5D,MAAM,GAAN,mBAAWY,GAAX,YAAqBG,IACvB,QACE,OAAOH,IEDXI,YJDgC,WAAyB,IAAxBJ,EAAuB,uDAAf,GAAIC,EAAW,uCACxD,OAAQA,EAAOC,MACb,IKP8B,qBLS9B,IKH8B,qBLI5B,OAAOZ,EAAmBU,EAAOC,EAAOd,MAC1C,IKPiC,wBLQ/B,OAAOJ,EAAaiB,EAAOC,EAAOhB,IACpC,IKRiC,wBLS/B,OAAOI,EAAgBW,EAAOC,EAAOhB,IACvC,QACE,OAAOe,IITXK,WHF+B,WAAmC,IAAlCL,EAAiC,uDAAzBP,EAAcQ,EAAW,uCACjE,OAAQA,EAAOC,MACb,IIG8B,qBJF5B,OAAO,eAAKF,EAAZ,CAAmBL,QAASM,EAAOL,SACrC,IIEiB,QJDf,OAAO,eAAKI,EAAZ,CAAmBN,OAAO,IAC5B,QACE,OAAOM,IGJXM,MDJgC,WAAmC,IAAlCN,EAAiC,uDAAzBP,EAAcQ,EAAW,uCAClE,OAAQA,EAAOC,MACb,IESsB,aFRpB,MAAO,CACLN,QAAQ,EACRT,KAAMc,EAAOd,MAEjB,IEKuB,cFJrB,MAAO,CACLS,QAAQ,EACRT,KAAM,MAEV,QACE,OAAOa,M,SGfAO,EAAQC,YACnBX,EAEAY,YAAgBC,M,mDCAZC,EAAcC,YAAW,CAC7BC,MAAO,CACLC,OAAQ,EACRC,IAAK,GACLC,OAAO,kBACPC,QAAS,QACTC,gBAAiB,UACjBC,MAAO,UAPSP,CASjBQ,KAeUC,EAA0BC,aAFf,SAAC,GAAD,MAAsB,CAAElB,YAAxB,EAAGA,eAEYkB,EAbT,SAACC,GAC7B,IAAMnC,EAAQmC,EAAMnB,YAAYoB,OAChC,OACE,kBAACC,EAAA,EAAD,KACE,kBAACd,EAAD,CAAae,aAActC,GACzB,kBAAC,IAAD,W,kBCrBKuC,EAAYC,YAAW,CAClCC,OAAQ,CACNX,gBAAiB,QACjBD,QAAS,UAEXa,KAAM,CACJC,UAAW,SACXZ,MAAO,mBACPa,eAAgB,UCJPC,EAAS,WACpB,IAAMC,EAAUP,IAChB,OACE,4BAAQQ,UAAWD,EAAQL,QACzB,kBAACO,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,iBACtB,kBAAC,IAAD,CAAMH,UAAWD,EAAQJ,KAAMS,GAAG,KAChC,2CAEF,kBAAC,IAAD,CAAMJ,UAAWD,EAAQJ,KAAMS,GAAG,YAChC,kBAAC,EAAD,U,qDCbGZ,EAAYC,YAAW,CAClCY,KAAM,CACJC,SAAU,QACVC,OAAQ,aAEVC,MAAO,CACLC,QAAS,OACTC,eAAgB,iBAElBC,MAAO,CACLC,OAAQ,SAEVC,MAAO,CACLC,WAAY,KAEdC,WAAY,CACVN,QAAS,cACTO,gBAAiB,EACjBC,gBAAiB,WACjBC,SAAU,UAEZ1D,QAAS,CACPiD,QAAS,OACTU,MAAO,QACPP,OAAQ,QACRL,OAAQ,YACRG,eAAgB,SAChBU,WAAY,Y,8FC1BhBC,IAASC,cAAc,CACrBC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,yCACbC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGjB,IAAMC,EAAYV,IAASU,YCTdC,EAAkB,SAAChF,GAAD,MAAW,CACxCe,KPJgC,qBOKhCf,SAGWiF,EAAmB,SAACjF,GAAD,MAAW,CACzCe,KPHgC,qBOIhCf,SAGWkF,EAAgB,SAACpF,GAAD,MAAS,CACpCiB,KPVmC,wBOWnCjB,OAGWqF,EAAmB,SAACrF,GAAD,MAAS,CACvCiB,KPdmC,wBOenCjB,OAKWsF,GAAY,SAACpF,GAAD,MAAW,CAAEe,KPVZ,aOUoCf,SAEjDqF,GAAa,iBAAO,CAAEtE,KPXR,gBOgBduE,GAAmB,SAAC7E,GAAD,MAAa,CAC3CM,KPvBgC,qBOwBhCN,WAKW8E,GAAkB,SAACvE,GAAD,MAAY,CACzCD,KP/BgC,qBOgChCC,UChCWwE,GAA2BrD,aANhB,SAAC,GAAD,MAAsB,CAAElB,YAAxB,EAAGA,gBAEA,SAACwE,GAAD,MAAe,CACxCC,QAASC,YAAmB,CAAEX,mBAAmBS,MAGXtD,ECOF,SAAC,GAAoC,IAAlCnC,EAAiC,EAAjCA,KAAMiB,EAA2B,EAA3BA,YAAayE,EAAc,EAAdA,QAClDE,EAAoBC,wBAApBD,gBACAZ,EAAoBU,EAApBV,gBACFc,EAAY7E,EAAY8E,MAAK,SAACC,GAAD,OAAOA,EAAElG,KAAOE,EAAKF,MAwBxD,OACE,kBAACmG,EAAA,EAAD,CACEC,QAAQ,WACRlE,MAAM,UACNmE,QAlBuB,WAHzBP,EAJgBE,EACZ,oIACA,0IAEqB,CAAEI,QADXJ,EAAY,UAAY,YAMxCd,EAAgBhF,GAChBoG,IAAWC,WAAW,CACpBC,MAAO,cACPC,UAAW,CACTC,MAAO,cACPC,cAAe,6EACfC,YAAaZ,EAAY,qGAAuB,2GAChDa,UAAW3G,EAAK4G,SAUlBC,QAASf,EAAY,KAAO,kBAAC,IAAD,OAE3BA,EAAY,kBAAC,IAAD,MAAgB,wD,UCvCtBgB,GAAW,SAAC,GAAqC,IAAnC9G,EAAkC,EAAlCA,KAAMkB,EAA4B,EAA5BA,WAAYkE,EAAgB,EAAhBA,UACrCrC,EAAUP,IAEhB,OAAItB,EAAWV,QAEX,kBAACuG,EAAA,EAAD,CAAM/D,UAAWD,EAAQvC,SACvB,kBAACwG,GAAA,EAAD,CAAkBC,KAAM,OAK5B,kBAACF,EAAA,EAAD,CAAM/D,UAAWD,EAAQM,MACvB,kBAAC6D,EAAA,EAAD,CAAgBf,QAAS,kBAAMf,EAAUpF,KACvC,kBAACmH,EAAA,EAAD,CAAWnE,UAAWD,EAAQY,MAAOyD,MAAOpH,EAAKqH,WACjD,kBAACC,EAAA,EAAD,KACE,yBAAKtE,UAAWD,EAAQS,OACtB,kBAAC+D,EAAA,EAAD,CAAYrB,QAAQ,MAAMlG,EAAK4G,MAC/B,kBAACW,EAAA,EAAD,CACErB,QAAQ,YACRlE,MAAM,UACNgB,UAAWD,EAAQc,OAElB7D,EAAK6D,MALR,WASF,kBAAC0D,EAAA,EAAD,CACEvE,UAAWD,EAAQgB,WACnBmC,QAAQ,QACRlE,MAAM,iBAELhC,EAAKwH,eAIZ,kBAACC,EAAA,EAAD,KACE,kBAAC,GAAD,CAAuBzH,KAAMA,OC5C/BwC,GAAYC,YAAW,CAC3BY,KAAM,CACJtB,gBAAiB,aCMR2F,GAAoBvF,aART,SAAC,GAAD,MAAgC,CACtDvB,UADsB,EAAGA,UAEzBM,WAFsB,EAAcA,eAKX,SAACuE,GAAD,OACzBE,YAAmB,CAAEP,cAAaK,KAEHtD,EDFF,SAAC,GAA0C,IAAxCvB,EAAuC,EAAvCA,UAAWM,EAA4B,EAA5BA,WAAYkE,EAAgB,EAAhBA,UACjDrC,EAAUP,KAEhB,OACE,kBAACS,EAAA,EAAD,CAAMD,UAAWD,EAAQM,KAAMH,WAAS,EAACC,QAAQ,SAASwE,UAAU,QACjE/G,EAAUb,KAAI,SAACC,GAAD,OACb,kBAAC,GAAD,CACE4H,IAAK5H,EAAKF,GACVE,KAAMA,EACNoF,UAAWA,EACXlE,WAAYA,W,UEnBTsB,GAAYC,YAAW,CAClCtB,MAAO,CACLsC,QAAS,OACTC,eAAgB,SAChBU,WAAY,UAEdyD,UAAW,CACT9F,gBAAiB,QACjBD,QAAS,OACT2B,QAAS,OACTH,SAAU,UAEZwE,OAAQ,CACNrE,QAAS,OACTC,eAAgB,YAElBqE,QAAS,CACPzE,SAAU,QACV0E,aAAc,QAEhBC,KAAM,CACJC,UAAW,S,8BCjBFC,GAAc,SAAC,GAAc,IAAZnI,EAAW,EAAXA,KACtB+C,EAAUP,KAChB,OACE,kBAAC4F,GAAA,EAAD,CAAMT,UAAU,OACd,kBAACU,GAAA,EAAD,CAAUC,SAAO,EAACC,QAAM,GACtB,kBAACC,GAAA,EAAD,CAAcC,QAAQ,mCACtB,kBAACD,GAAA,EAAD,CAAcxF,UAAWD,EAAQkF,KAAMQ,QAASzI,EAAK0I,UAEvD,kBAACL,GAAA,EAAD,CAAUE,QAAM,EAACD,SAAO,GACtB,kBAACE,GAAA,EAAD,CAAcC,QAAQ,6BACtB,kBAACD,GAAA,EAAD,CAAcxF,UAAWD,EAAQkF,KAAMQ,QAAO,UAAKzI,EAAK6D,MAAV,aAEhD,kBAACwE,GAAA,EAAD,CAAUE,QAAM,GACd,kBAACC,GAAA,EAAD,CAAcC,QAAQ,+CACtB,kBAACD,GAAA,EAAD,CAAcxF,UAAWD,EAAQkF,KAAMQ,QAAO,UAAKzI,EAAK2I,KAAV,wBCbzCC,GAAY,SAAC,GAA2B,IAAzBzH,EAAwB,EAAxBA,MAAOkE,EAAiB,EAAjBA,WAC3BtC,EAAUP,KAER/B,EAAiBU,EAAjBV,OAAQT,EAASmB,EAATnB,KAChB,OACE,kBAAC6I,GAAA,EAAD,CAAO7F,UAAWD,EAAQ5B,MAAO2H,QAASzD,EAAY0D,KAAMtI,GAC1D,yBAAKuC,UAAWD,EAAQ8E,WACtB,6BACE,yBACE7E,UAAWD,EAAQgF,QACnBiB,IAAKhJ,GAAQA,EAAKqH,SAClB4B,IAAI,oCAGR,6BACE,kBAAC1B,EAAA,EAAD,CAAY2B,cAAY,EAAChD,QAAQ,KAAKyB,UAAU,MAC7C3H,GAAQA,EAAK4G,MAEhB,kBAACW,EAAA,EAAD,CAAYrB,QAAQ,QAAQlE,MAAM,gBAAgB2F,UAAU,KACzD3H,GAAQA,EAAKwH,aAEhB,kBAAC,GAAD,CAAaxH,KAAMA,IACnB,yBAAKgD,UAAWD,EAAQ+E,QACtB,kBAAC,GAAD,CAAuB9H,KAAMA,SCR5BmJ,GAAWhH,aALA,SAAC,GAAD,MAAgB,CAAEhB,MAAlB,EAAGA,UAEA,SAACsE,GAAD,OACzBE,YAAmB,CAAEN,eAAcI,KAEbtD,EAdE,SAAC,GAA2B,IAAzBkD,EAAwB,EAAxBA,WAAYlE,EAAY,EAAZA,MACvC,OACE,kBAAC,mBAAD,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAWA,MAAOA,EAAOkE,WAAYA,Q,yHCH9B+D,GAAgB,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,KAAMN,EAAW,EAAXA,KACpC,OACE,kBAAC,KAAD,KACE,kBAACO,GAAA,EAAD,CAAWC,MAAO,CAAEC,cAAe,EAAGC,WAAY,GAAKC,QAAS,GAC9D,kBAACC,GAAA,EAAD,CAAUC,GAAIb,EAAMc,QAAQ,OAAOC,eAAa,GAC9C,kBAACC,GAAA,EAAD,CAAKxG,OAAQ,GACX,kBAACyG,GAAA,EAAD,CAAO/C,KAAK,SACV,kBAACgD,GAAA,EAAD,KACE,kBAAC,KAAD,KACE,kBAACX,GAAA,EAAD,CAAWY,MAAM,QAAjB,kCACA,kBAACZ,GAAA,EAAD,CAAWY,MAAM,SAAjB,wCACA,kBAACZ,GAAA,EAAD,CAAWY,MAAM,SAAjB,gEACA,kBAACZ,GAAA,EAAD,CAAWY,MAAM,SAAjB,2DACA,kBAACZ,GAAA,EAAD,CAAWY,MAAM,SAAjB,8BAGJ,kBAACC,GAAA,EAAD,KACE,kBAAC,KAAD,KACE,kBAACb,GAAA,EAAD,CAAWY,MAAM,QAAQb,EAAKX,QAC9B,kBAACY,GAAA,EAAD,CAAWY,MAAM,SAASb,EAAKV,KAA/B,UACA,kBAACW,GAAA,EAAD,CAAWY,MAAM,SAASb,EAAKpJ,OAC/B,kBAACqJ,GAAA,EAAD,CAAWY,MAAM,SAASb,EAAKxF,MAA/B,UACA,kBAACyF,GAAA,EAAD,CAAWY,MAAM,SACdb,EAAKpJ,MAAQoJ,EAAKxF,MADrB,kB,0CCzBLuG,GAAc,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,WACjD,OACE,oCACE,kBAACjI,EAAA,EAAD,CAAYN,MAAM,UAAUmE,QAASkE,GACnC,kBAAC,IAAD,OAEF,kBAAC/H,EAAA,EAAD,CAAY6D,QAASmE,GACnB,kBAAC,KAAD,OAEF,kBAAChI,EAAA,EAAD,CAAY6D,QAASoE,EAAYhB,MAAO,CAAEvH,MAAO,QAC/C,kBAAC,KAAD,SCNFwI,GAAe/H,YAAW,CAC9BY,KAAM,CACJ,QAAS,CACPoH,aAAc,YAKPC,GAAW,SAACtI,GAAW,IAC1BpC,EAAkBoC,EAAlBpC,KAAM0F,EAAYtD,EAAZsD,QACNR,EAAsDQ,EAAtDR,cAAeC,EAAuCO,EAAvCP,iBAAkBF,EAAqBS,EAArBT,iBAFR,EAIT0F,oBAAS,GAJA,oBAI1B5B,EAJ0B,KAIpB6B,EAJoB,KAK3B7H,EAAUyH,KAQhB,OACE,oCACE,kBAAC,KAAD,CAAKxH,UAAWD,EAAQM,MACtB,kBAAC,KAAD,KACE,kBAACf,EAAA,EAAD,CAAY2E,KAAK,QAAQd,QAAS,kBAAMyE,GAAS7B,KAC9CA,EAAO,kBAAC,KAAD,MAA0B,kBAAC,KAAD,QAGtC,kBAAC,KAAD,CAAM8B,MAAM,OAAO7K,EAAK4G,MACxB,kBAAC,KAAD,CAAMsD,MAAM,UAAUlK,EAAKC,OAC3B,kBAAC,KAAD,CAAMiK,MAAM,UAAUlK,EAAKC,MAAQD,EAAK6D,MAAxC,UACA,kBAAC,KAAD,CAAMqG,MAAM,SACV,kBAAC,GAAD,CACEK,WAfS,kBAAMtF,EAAiBjF,IAgBhCqK,QApBM,kBAAMnF,EAAclF,EAAKF,KAqB/BwK,WAnBS,kBAAMnF,EAAiBnF,EAAKF,SAuB3C,kBAAC,GAAD,CAAeiJ,KAAMA,EAAMM,KAAMrJ,M,oBCtC1B8K,GAAc,SAAC1I,GAAW,IAC7BnB,EAAyBmB,EAAzBnB,YAAayE,EAAYtD,EAAZsD,QAErB,OACE,kBAAC,KAAD,CAAWiC,UAAWoD,MACpB,kBAACf,GAAA,EAAD,KACE,kBAAC,KAAD,KACE,kBAAC,KAAD,KACE,kBAAC,KAAD,MACA,kBAAC,KAAD,uCACA,kBAAC,KAAD,CAAME,MAAM,UAAZ,gEACA,kBAAC,KAAD,CAAMA,MAAM,UAAZ,wEACA,kBAAC,KAAD,QAGJ,kBAAC,KAAD,KACGjJ,EAAYlB,KAAI,SAACC,GAChB,OAAO,kBAAC,GAAD,CAAU4H,IAAK5H,EAAKF,GAAIE,KAAMA,EAAM0F,QAASA,W,+BC3BnDlD,G,OAAYC,GAAW,CAClCY,KAAM,CACJ2H,UAAW,IAEbC,MAAO,CACLnJ,QAAS,MCCAoJ,GAAU,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAClBpI,EAAUP,KAChB,OACE,kBAACS,EAAA,EAAD,CAAMC,WAAS,EAACF,UAAWD,EAAQM,KAAMF,QAAQ,UAC/C,kBAAC4H,GAAA,EAAD,CAAO/H,UAAWD,EAAQkI,MAAOG,UAAW,GAC1C,kBAAC,IAAD,CAAMlB,MAAM,SAAShE,QAAQ,KAAKgD,cAAY,GAA9C,6EAGA,kBAAC,IAAD,CAAMlH,MAAM,UAAUkI,MAAM,SAAShE,QAAQ,KAAKgD,cAAY,GAC3DiC,GAEH,kBAAClF,EAAA,EAAD,CAAQC,QAAQ,YAAYe,KAAK,QAAQoE,UAAW,kBAAC,KAAD,OAApD,uDCsBKC,GAAanJ,aAdF,SAAC,GAAD,IC3BKtC,ED2BFoB,EAAH,EAAGA,YAAH,MAAsB,CAC5CA,cACAsK,UC7B2B1L,ED6BJoB,EC5BhBpB,EAAO2L,QAAO,SAACC,EAAKzL,GAAN,OAAgByL,EAAOzL,EAAK6D,MAAQ7D,EAAKC,QAAQ,QD+B7C,SAACwF,GAC1B,MAAO,CACLC,QAASC,YACP,CAAET,gBAAeC,mBAAkBF,oBACnCQ,MAKoBtD,EA3BE,SAAC,GAAwC,IAAtClB,EAAqC,EAArCA,YAAasK,EAAwB,EAAxBA,SAAU7F,EAAc,EAAdA,QACpD,OACE,oCACE,kBAAC,GAAD,CACEA,QAASA,EACT6F,SAAUA,EACVtK,YAAaA,IAEf,kBAAC,GAAD,CAASkK,IAAKI,Q,UEbPG,GAAM,WACjB,OACE,kBAACC,GAAA,EAAD,KACE,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAAClE,UAAWwB,KACjC,kBAAC,IAAD,CAAOyC,KAAK,UAAUjE,UAAW2D,QCCzClF,IAAWC,WAJY,CACnBC,MAAO,gBAKXwF,iBACE,kBAAC,IAAD,CAAU1K,MAAOA,GACf,kBAAC,IAAD,CAAe2K,SAAUC,eACvB,kBAAC,GAAD,QAGJC,SAASC,eAAe,SAG1B9K,EAAMqE,UnBqBiB,SAACA,GACtBA,EAASH,IAAiB,IAE1B,IAAMtE,EAAQmL,aAAaC,QAAQ,SACtB,MAATpL,GACFyE,EAASH,IAAiB,IAC1BG,EAASF,GAAgB8G,KAAKC,MAAMtL,MDrC/B+D,EACJwH,WAAW,SACXC,MACAC,MAAK,SAACC,GACL,OAAOA,EAASC,KAAK5M,KAAI,SAAC6M,GAAD,oBACvB9M,GAAI8M,EAAI9M,IACL8M,EAAIvD,cAGVwD,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MC+BzBL,MAAK,SAACzL,GACLmL,aAAac,QAAQ,QAASZ,KAAKa,UAAUlM,IAC7CyE,EAASH,IAAiB,IAC1BG,EAASF,GAAgBvE,OAE1B6L,OAAM,SAACC,GAAD,OAASrH,EA9BW,CAAE1E,KPnBd,QOmBiCR,MA8BjBuM,Y","file":"static/js/main.6134f195.chunk.js","sourcesContent":["import {\r\n  PUT_BOOK_IN_BASKET,\r\n  INCREMENT_BOOK_BASKET,\r\n  DECREMENT_BOOK_BASKET,\r\n  DELETE_BOOK_BASKET,\r\n} from \"../actions/constants\";\r\n\r\nexport const basketBooksReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case PUT_BOOK_IN_BASKET:\r\n      return toggleBookInBasket(state, action.book);\r\n    case DELETE_BOOK_BASKET:\r\n      return toggleBookInBasket(state, action.book);\r\n    case INCREMENT_BOOK_BASKET:\r\n      return addCountBook(state, action.id);\r\n    case DECREMENT_BOOK_BASKET:\r\n      return removeCountBook(state, action.id);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst addCountBook = (basket, id) => {\r\n  return basket.map((book) => {\r\n    if (book.id === id) {\r\n      return { ...book, count: book.count + 1 };\r\n    }\r\n    return book;\r\n  });\r\n};\r\n\r\nconst removeCountBook = (basket, id) => {\r\n  return basket.map((book) => {\r\n    if (book.id === id && book.count > 1) {\r\n      return { ...book, count: book.count - 1 };\r\n    }\r\n    return book;\r\n  });\r\n};\r\n\r\nconst toggleBookInBasket = (basket, book) => {\r\n  return basket.includes(book)\r\n    ? basket.filter(({ id }) => id !== book.id)\r\n    : [...basket, book];\r\n};\r\n","import { ERROR, TOGGLE_IS_FETCHING } from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  error: false,\r\n  loading: true,\r\n};\r\n\r\nexport const bootStatusReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, loading: action.status };\r\n    case ERROR:\r\n      return { ...state, error: true };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { PUT_BOOKS_IN_STATE } from \"../actions/constants\";\r\nconst initialState = [];\r\n\r\nexport const cardBooksReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case PUT_BOOKS_IN_STATE:\r\n      const books = action.books.map((book) => ({ ...book, count: 1 }));\r\n      return [...state, ...books];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { OPEN_MODAL, CLOSE_MODAL } from \"../actions/constants\";\r\nconst initialState = {\r\n  status: false,\r\n  book: null,\r\n};\r\n\r\nexport const statusModalReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case OPEN_MODAL:\r\n      return {\r\n        status: true,\r\n        book: action.book,\r\n      };\r\n    case CLOSE_MODAL:\r\n      return {\r\n        status: false,\r\n        book: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { basketBooksReducer } from \"./basket-books-reducer\";\r\nimport { bootStatusReducer } from \"./boot-status-reducer\";\r\nimport { cardBooksReducer } from \"./card-books-reducer\";\r\nimport { statusModalReducer } from \"./status-modal-reducer\";\r\n\r\nexport const reducer = combineReducers({\r\n  cardBooks: cardBooksReducer,\r\n  basketBooks: basketBooksReducer,\r\n  bootStatus: bootStatusReducer,\r\n  modal: statusModalReducer,\r\n});\r\n","// __Карточка книг на странице__\r\n\r\nexport const PUT_BOOK_IN_BASKET = \"PUT_BOOK_IN_BASKET\";\r\n\r\n// __Таблица в корзине__\r\n\r\nexport const INCREMENT_BOOK_BASKET = \"INCREMENT_BOOK_BASKET\";\r\nexport const DECREMENT_BOOK_BASKET = \"DECREMENT_BOOK_BASKET\";\r\nexport const DELETE_BOOK_BASKET = \"DELETE_BOOK_BASKET\";\r\n\r\n// Работа с данными\r\nexport const PUT_BOOKS_IN_STATE = \"PUT_BOOKS_IN_STATE\";\r\nexport const TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nexport const ERROR = \"ERROR\";\r\n\r\n// __Модальное окно__\r\n\r\nexport const OPEN_MODAL = \"OPEN_MODAL\";\r\nexport const CLOSE_MODAL = \"CLOSE_MODAL\";\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport { reducer } from \"./reducers/root-reducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport const store = createStore(\r\n  reducer,\r\n  // compose(\r\n  applyMiddleware(thunk)\r\n  //   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  // )\r\n);\r\n","import React from \"react\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst StyledBadge = withStyles({\r\n  badge: {\r\n    right: -3,\r\n    top: 13,\r\n    border: `2px solid white`,\r\n    padding: \"0 4px\",\r\n    backgroundColor: \"#009999\",\r\n    color: \"white\",\r\n  },\r\n})(Badge);\r\n\r\nconst ShoppingBasketPresent = (props) => {\r\n  const count = props.basketBooks.length;\r\n  return (\r\n    <IconButton>\r\n      <StyledBadge badgeContent={count}>\r\n        <ShoppingCartIcon />\r\n      </StyledBadge>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ basketBooks }) => ({ basketBooks });\r\n\r\nexport const ShoppingBasketContainer = connect(mapStateToProps)(\r\n  ShoppingBasketPresent\r\n);\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles({\r\n  header: {\r\n    backgroundColor: \"white\",\r\n    padding: \"0 20px\",\r\n  },\r\n  link: {\r\n    alignSelf: \"center\",\r\n    color: \"rgba(0,0,0,0.87)\",\r\n    textDecoration: \"none\",\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport { ShoppingBasketContainer as ShoppingBasket } from \"./shopping-basket\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStyles } from \"./header-style\";\r\n\r\nexport const Header = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <header className={classes.header}>\r\n      <Grid container justify=\"space-between\">\r\n        <Link className={classes.link} to=\"/\">\r\n          <h2>Book Store</h2>\r\n        </Link>\r\n        <Link className={classes.link} to=\"/basket/\">\r\n          <ShoppingBasket />\r\n        </Link>\r\n      </Grid>\r\n    </header>\r\n  );\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: \"345px\",\r\n    margin: \"15px 10px\",\r\n  },\r\n  title: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  media: {\r\n    height: \"140px\",\r\n  },\r\n  price: {\r\n    fontWeight: 700,\r\n  },\r\n  actionArea: {\r\n    display: \"-webkit-box\",\r\n    WebkitLineClamp: 4,\r\n    WebkitBoxOrient: \"vertical\",\r\n    overflow: \"hidden\",\r\n  },\r\n  loading: {\r\n    display: \"flex\",\r\n    width: \"345px\",\r\n    height: \"330px\",\r\n    margin: \"15px 10px\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firebase-firestore\";\r\n\r\nfirebase.initializeApp({\r\n  apiKey: \"AIzaSyDpmz8fJuH6KsSXUz3P7kyplLoJ3nefXhY\",\r\n  authDomain: \"bookstore-16aaf.firebaseapp.com\",\r\n  databaseURL: \"https://bookstore-16aaf.firebaseio.com\",\r\n  projectId: \"bookstore-16aaf\",\r\n  storageBucket: \"bookstore-16aaf.appspot.com\",\r\n  messagingSenderId: \"868626355609\",\r\n  appId: \"1:868626355609:web:e5fc29ec2df263aaed2f08\",\r\n  measurementId: \"G-XT5CH4D35J\",\r\n});\r\n\r\nconst firestore = firebase.firestore();\r\n\r\nexport const getBooksFromFirestore = () => {\r\n  return firestore\r\n    .collection(\"books\")\r\n    .get()\r\n    .then((snapshot) => {\r\n      return snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import * as types from \"./constants\";\r\nimport { getBooksFromFirestore } from \"../../services/firebase\";\r\n\r\n// Basket Book\r\n\r\nexport const putBookInBasket = (book) => ({\r\n  type: types.PUT_BOOK_IN_BASKET,\r\n  book,\r\n});\r\n\r\nexport const deleteBookBasket = (book) => ({\r\n  type: types.DELETE_BOOK_BASKET,\r\n  book,\r\n});\r\n\r\nexport const addBookBasket = (id) => ({\r\n  type: types.INCREMENT_BOOK_BASKET,\r\n  id,\r\n});\r\n\r\nexport const removeBookBasket = (id) => ({\r\n  type: types.DECREMENT_BOOK_BASKET,\r\n  id,\r\n});\r\n\r\n// Status Modal\r\n\r\nexport const openModal = (book) => ({ type: types.OPEN_MODAL, book });\r\n\r\nexport const closeModal = () => ({ type: types.CLOSE_MODAL });\r\n\r\n// Boot Status\r\nexport const error = (error) => ({ type: types.ERROR, error });\r\n\r\nexport const toggleIsFetching = (status) => ({\r\n  type: types.TOGGLE_IS_FETCHING,\r\n  status,\r\n});\r\n\r\n// Cards Book\r\n\r\nexport const putBooksInState = (books) => ({\r\n  type: types.PUT_BOOKS_IN_STATE,\r\n  books,\r\n});\r\n\r\n// Thunks\r\n\r\nexport const getBook = (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n\r\n  const books = localStorage.getItem(\"books\");\r\n  if (books != null) {\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(putBooksInState(JSON.parse(books)));\r\n  } else {\r\n    getBooksFromFirestore()\r\n      .then((books) => {\r\n        localStorage.setItem(\"books\", JSON.stringify(books));\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(putBooksInState(books));\r\n      })\r\n      .catch((err) => dispatch(error(err)));\r\n  }\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport { BtnToggleBasketPresent } from \"./btn-toggle-basket-present\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { putBookInBasket } from \"../../redux/actions/action-creators\";\r\n\r\nconst mapStateToProps = ({ basketBooks }) => ({ basketBooks });\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  actions: bindActionCreators({ putBookInBasket }, dispatch),\r\n});\r\n\r\nexport const BtnToggleBasketContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(BtnToggleBasketPresent);\r\n","import React from \"react\";\r\n// Material UI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\n// Other\r\nimport { useSnackbar } from \"notistack\";\r\nimport TagManager from \"react-gtm-module\";\r\n\r\nconst tagManagerArgs = {\r\n  gtmId: \"GTM-N7F55M2\",\r\n  dataLayer: {\r\n    event: \"event-to-ga\",\r\n    eventCategory: \"Клик по товару\",\r\n    eventAction: \"Положено в корзину\",\r\n  },\r\n};\r\n\r\nexport const BtnToggleBasketPresent = ({ book, basketBooks, actions }) => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { putBookInBasket } = actions;\r\n  const btnStatus = basketBooks.some((b) => b.id === book.id);\r\n\r\n  const showMassage = () => {\r\n    const massage = btnStatus\r\n      ? \"Книга удалена из корзины\"\r\n      : \"Книга добавлена в корзину\";\r\n    const variant = btnStatus ? \"warning\" : \"success\";\r\n    enqueueSnackbar(massage, { variant });\r\n  };\r\n\r\n  const handlerButtonClick = () => {\r\n    showMassage();\r\n    putBookInBasket(book);\r\n    TagManager.initialize({\r\n      gtmId: \"GTM-N7F55M2\",\r\n      dataLayer: {\r\n        event: \"event-to-ga\",\r\n        eventCategory: \"Клик по товару\",\r\n        eventAction: btnStatus ? \"Удалена из корзины\" : \"Добавлена в корзину\",\r\n        labelBook: book.name,\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"outlined\"\r\n      color=\"primary\"\r\n      onClick={handlerButtonClick}\r\n      endIcon={btnStatus ? null : <AddIcon />}\r\n    >\r\n      {btnStatus ? <CheckIcon /> : \"В корзину\"}\r\n    </Button>\r\n  );\r\n};\r\n","import React from \"react\";\r\n// Material UI\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n// Other\r\nimport { useStyles } from \"./card-item-style\";\r\nimport { BtnToggleBookInBasket } from \"../btn-toggle-basket\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nexport const CardItem = ({ book, bootStatus, openModal }) => {\r\n  const classes = useStyles();\r\n\r\n  if (bootStatus.loading)\r\n    return (\r\n      <Card className={classes.loading}>\r\n        <CircularProgress size={100} />\r\n      </Card>\r\n    );\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={() => openModal(book)}>\r\n        <CardMedia className={classes.media} image={book.urlImage} />\r\n        <CardContent>\r\n          <div className={classes.title}>\r\n            <Typography variant=\"h6\">{book.name}</Typography>\r\n            <Typography\r\n              variant=\"subtitle1\"\r\n              color=\"primary\"\r\n              className={classes.price}\r\n            >\r\n              {book.price}₽\r\n            </Typography>\r\n          </div>\r\n\r\n          <Typography\r\n            className={classes.actionArea}\r\n            variant=\"body2\"\r\n            color=\"textSecondary\"\r\n          >\r\n            {book.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <BtnToggleBookInBasket book={book} />\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { CardItem } from \"../card-item\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    backgroundColor: \"#f2f3f4\",\r\n  },\r\n});\r\n\r\nexport const CardListPresent = ({ cardBooks, bootStatus, openModal }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid className={classes.root} container justify=\"center\" component=\"main\">\r\n      {cardBooks.map((book) => (\r\n        <CardItem\r\n          key={book.id}\r\n          book={book}\r\n          openModal={openModal}\r\n          bootStatus={bootStatus}\r\n        />\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport { CardListPresent } from \"./card-list-present\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { openModal } from \"../../redux/actions/action-creators\";\r\n\r\nconst mapStateToProps = ({ cardBooks, bootStatus }) => ({\r\n  cardBooks,\r\n  bootStatus,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators({ openModal }, dispatch);\r\n\r\nexport const CardListContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CardListPresent);\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles({\r\n  modal: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  modalCard: {\r\n    backgroundColor: \"white\",\r\n    padding: \"10px\",\r\n    display: \"flex\",\r\n    maxWidth: \"1100px\",\r\n  },\r\n  footer: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  bookImg: {\r\n    maxWidth: \"250px\",\r\n    paddingRight: \"10px\",\r\n  },\r\n  text: {\r\n    textAlign: \"end\",\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport { useStyles } from \"./modal-card-style\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\nexport const SimpleTable = ({ book }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <List component=\"div\">\r\n      <ListItem divider button>\r\n        <ListItemText primary=\"Автор\" />\r\n        <ListItemText className={classes.text} primary={book.author} />\r\n      </ListItem>\r\n      <ListItem button divider>\r\n        <ListItemText primary=\"Цена\" />\r\n        <ListItemText className={classes.text} primary={`${book.price}₽`} />\r\n      </ListItem>\r\n      <ListItem button>\r\n        <ListItemText primary=\"Рейтинг\" />\r\n        <ListItemText className={classes.text} primary={`${book.star} из 5`} />\r\n      </ListItem>\r\n    </List>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { useStyles } from \"./modal-card-style\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { SimpleTable } from \"./modal-table\";\r\nimport { BtnToggleBookInBasket } from \"../btn-toggle-basket\";\r\n\r\nexport const ModalCard = ({ modal, closeModal }) => {\r\n  const classes = useStyles();\r\n\r\n  const { status, book } = modal;\r\n  return (\r\n    <Modal className={classes.modal} onClose={closeModal} open={status}>\r\n      <div className={classes.modalCard}>\r\n        <div>\r\n          <img\r\n            className={classes.bookImg}\r\n            src={book && book.urlImage}\r\n            alt=\"Книга\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {book && book.name}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {book && book.description}\r\n          </Typography>\r\n          <SimpleTable book={book} />\r\n          <div className={classes.footer}>\r\n            <BtnToggleBookInBasket book={book} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import { CardList } from \"../card-list\";\r\nimport { ModalCard } from \"../modal-card/modal-card\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { closeModal } from \"../../redux/actions/action-creators\";\r\nimport { SnackbarProvider } from \"notistack\";\r\n\r\nconst HomePageContainer = ({ closeModal, modal }) => {\r\n  return (\r\n    <SnackbarProvider>\r\n      <CardList />\r\n      <ModalCard modal={modal} closeModal={closeModal} />\r\n    </SnackbarProvider>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ modal }) => ({ modal });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators({ closeModal }, dispatch);\r\n\r\nexport const HomePage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(HomePageContainer);\r\n","import TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport React from \"react\";\r\n\r\nexport const TableInternal = ({ data, open }) => {\r\n  return (\r\n    <TableRow>\r\n      <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={5}>\r\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n          <Box margin={2}>\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"left\">Автор</TableCell>\r\n                  <TableCell align=\"right\">Отзывы</TableCell>\r\n                  <TableCell align=\"right\">Количество</TableCell>\r\n                  <TableCell align=\"right\">Цена книги</TableCell>\r\n                  <TableCell align=\"right\">Итог</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <TableRow>\r\n                  <TableCell align=\"left\">{data.author}</TableCell>\r\n                  <TableCell align=\"right\">{data.star}★</TableCell>\r\n                  <TableCell align=\"right\">{data.count}</TableCell>\r\n                  <TableCell align=\"right\">{data.price}₽</TableCell>\r\n                  <TableCell align=\"right\">\r\n                    {data.count * data.price}₽\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n          </Box>\r\n        </Collapse>\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\n","import IconButton from \"@material-ui/core/IconButton\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport React from \"react\";\r\n\r\nexport const TableButton = ({ addBook, removeBook, deleteBook }) => {\r\n  return (\r\n    <>\r\n      <IconButton color=\"primary\" onClick={addBook}>\r\n        <AddIcon />\r\n      </IconButton>\r\n      <IconButton onClick={removeBook}>\r\n        <RemoveIcon />\r\n      </IconButton>\r\n      <IconButton onClick={deleteBook} style={{ color: \"red\" }}>\r\n        <DeleteOutlineIcon />\r\n      </IconButton>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Row from \"@material-ui/core/TableRow\";\r\nimport Cell from \"@material-ui/core/TableCell\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\nimport { TableInternal } from \"./table-internal\";\r\nimport { TableButton } from \"./table-button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useRowStyles = makeStyles({\r\n  root: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n});\r\n\r\nexport const TableRow = (props) => {\r\n  const { book, actions } = props;\r\n  const { addBookBasket, removeBookBasket, deleteBookBasket } = actions;\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useRowStyles();\r\n\r\n  const addBook = () => addBookBasket(book.id);\r\n\r\n  const removeBook = () => removeBookBasket(book.id);\r\n\r\n  const deleteBook = () => deleteBookBasket(book);\r\n\r\n  return (\r\n    <>\r\n      <Row className={classes.root}>\r\n        <Cell>\r\n          <IconButton size=\"small\" onClick={() => setOpen(!open)}>\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </Cell>\r\n        <Cell scope=\"row\">{book.name}</Cell>\r\n        <Cell align=\"center\">{book.count}</Cell>\r\n        <Cell align=\"center\">{book.count * book.price}₽</Cell>\r\n        <Cell align=\"right\">\r\n          <TableButton\r\n            deleteBook={deleteBook}\r\n            addBook={addBook}\r\n            removeBook={removeBook}\r\n          />\r\n        </Cell>\r\n      </Row>\r\n      <TableInternal open={open} data={book} />\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\n// Component\r\nimport { TableRow } from \"./table-row\";\r\n// Other\r\nimport Table from \"@material-ui/core/Table\";\r\nimport Body from \"@material-ui/core/TableBody\";\r\nimport Cell from \"@material-ui/core/TableCell\";\r\nimport Container from \"@material-ui/core/TableContainer\";\r\nimport Head from \"@material-ui/core/TableHead\";\r\nimport Row from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nexport const TableBasket = (props) => {\r\n  const { basketBooks, actions } = props;\r\n\r\n  return (\r\n    <Container component={Paper}>\r\n      <Table>\r\n        <Head>\r\n          <Row>\r\n            <Cell />\r\n            <Cell>Книга</Cell>\r\n            <Cell align=\"center\">Количество</Cell>\r\n            <Cell align=\"center\">Итог за книгу</Cell>\r\n            <Cell />\r\n          </Row>\r\n        </Head>\r\n        <Body>\r\n          {basketBooks.map((book) => {\r\n            return <TableRow key={book.id} book={book} actions={actions} />;\r\n          })}\r\n        </Body>\r\n      </Table>\r\n    </Container>\r\n  );\r\n};\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nexport const useStyles = makeStyles({\r\n  root: {\r\n    marginTop: 30,\r\n  },\r\n  paper: {\r\n    padding: 15,\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Text from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport PayIcon from \"@material-ui/icons/Payment\";\r\nimport { useStyles } from \"./pay-card-style\";\r\n\r\nexport const PayCard = ({ sum }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Grid container className={classes.root} justify=\"center\">\r\n      <Paper className={classes.paper} elevation={8}>\r\n        <Text align=\"center\" variant=\"h6\" gutterBottom>\r\n          Итоговая цена\r\n        </Text>\r\n        <Text color=\"primary\" align=\"center\" variant=\"h5\" gutterBottom>\r\n          {sum}\r\n        </Text>\r\n        <Button variant=\"contained\" size=\"large\" startIcon={<PayIcon />}>\r\n          Оплатить\r\n        </Button>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n","import React from \"react\";\r\n// Component\r\nimport { TableBasket } from \"../table-basket\";\r\nimport { PayCard } from \"../pay-card/pay-card\";\r\n// Other\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  addBookBasket,\r\n  removeBookBasket,\r\n  deleteBookBasket,\r\n} from \"../../redux/actions/action-creators\";\r\nimport { calcTotalSum } from \"../../redux/selectors/calc-total-sum\";\r\n\r\nconst BasketPageContainer = ({ basketBooks, totalSum, actions }) => {\r\n  return (\r\n    <>\r\n      <TableBasket\r\n        actions={actions}\r\n        totalSum={totalSum}\r\n        basketBooks={basketBooks}\r\n      />\r\n      <PayCard sum={totalSum} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ basketBooks }) => ({\r\n  basketBooks,\r\n  totalSum: calcTotalSum(basketBooks),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    actions: bindActionCreators(\r\n      { addBookBasket, removeBookBasket, deleteBookBasket },\r\n      dispatch\r\n    ),\r\n  };\r\n};\r\n\r\nexport const BasketPage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(BasketPageContainer);\r\n","export const calcTotalSum = (basket) => {\r\n  return basket.reduce((acc, book) => (acc += book.price * book.count), 0);\r\n};\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n// Components\r\nimport { Header } from \"../header\";\r\nimport { HomePage } from \"../pages/home-page\";\r\nimport { BasketPage } from \"../pages/basket-page\";\r\n// Other\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nexport const App = () => {\r\n  return (\r\n    <CssBaseline>\r\n      <Header />\r\n      <Switch>\r\n        <Route path=\"/\" exact component={HomePage} />\r\n        <Route path=\"/basket\" component={BasketPage} />\r\n      </Switch>\r\n    </CssBaseline>\r\n  );\r\n};\r\n","// React\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n// Redux\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/store\";\r\n// Components\r\nimport { App } from \"./components/app\";\r\nimport { getBook } from \"./redux/actions/action-creators\";\r\nimport TagManager from 'react-gtm-module'\r\n\r\nconst tagManagerArgs = {\r\n    gtmId: 'GTM-N7F55M2',\r\n}\r\n\r\nTagManager.initialize(tagManagerArgs)\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nstore.dispatch(getBook);\r\n"],"sourceRoot":""}